#!/bin/sh

for battery in /sys/class/power_supply/BAT?; do
    [ -n "$capacity" ] && printf " "
    case $(cat $battery/status) in
        "Full") status="âš¡" ;;
        "Discharging") status="ğŸ”‹" ;;
        "Charging") status="ğŸ”Œ" ;;
        "Not charging") status="ğŸ›‘" ;;
        "Unknown") status="â™»ï¸" ;;
        *) exit 1 ;;
    esac
    capacity=$(cat $battery/capacity)

    [ "$status" = "ğŸ”‹" ] && [ "$capacity" -le 25 ] && warn="â—"
    printf "$status$warn$capacity%%"
    unset warn
done

printf "\n"
